<!doctype html>
<html class="default no-js">
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>@as-pect/core | as-pect</title>
	<meta name="description" content="">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="stylesheet" href="../assets/css/main.css">
</head>
<body>
<header>
	<div class="tsd-page-toolbar">
		<div class="container">
			<div class="table-wrap">
				<div class="table-cell" id="tsd-search" data-index="../assets/js/search.js" data-base="..">
					<div class="field">
						<label for="tsd-search-field" class="tsd-widget search no-caption">Search</label>
						<input id="tsd-search-field" type="text" />
					</div>
					<ul class="results">
						<li class="state loading">Preparing search index...</li>
						<li class="state failure">The search index is not available</li>
					</ul>
					<a href="../index.html" class="title">as-pect</a>
				</div>
				<div class="table-cell" id="tsd-widgets">
					<div id="tsd-filter">
						<a href="#" class="tsd-widget options no-caption" data-toggle="options">Options</a>
						<div class="tsd-filter-group">
							<div class="tsd-select" id="tsd-filter-visibility">
								<span class="tsd-select-label">All</span>
								<ul class="tsd-select-list">
									<li data-value="public">Public</li>
									<li data-value="protected">Public/Protected</li>
									<li data-value="private" class="selected">All</li>
								</ul>
							</div>
							<input type="checkbox" id="tsd-filter-inherited" checked />
							<label class="tsd-widget" for="tsd-filter-inherited">Inherited</label>
							<input type="checkbox" id="tsd-filter-only-exported" />
							<label class="tsd-widget" for="tsd-filter-only-exported">Only exported</label>
						</div>
					</div>
					<a href="#" class="tsd-widget menu no-caption" data-toggle="menu">Menu</a>
				</div>
			</div>
		</div>
	</div>
	<div class="tsd-page-title">
		<div class="container">
			<ul class="tsd-breadcrumb">
				<li>
					<a href="../globals.html">Globals</a>
				</li>
				<li>
					<a href="_as_pect_core.html">@as-pect/core</a>
				</li>
			</ul>
			<h1>Module @as-pect/core</h1>
		</div>
	</div>
</header>
<div class="container container-main">
	<div class="row">
		<div class="col-8 col-content">
			<section class="tsd-panel tsd-comment">
				<div class="tsd-comment tsd-typography">
					<a href="#as-pectcore" id="as-pectcore" style="color: inherit; text-decoration: none;">
						<h1>@as-pect/core</h1>
					</a>
					<p>Typescript infastructure for running tests.</p>
					<a href="#table-of-contents" id="table-of-contents" style="color: inherit; text-decoration: none;">
						<h2>Table of contents</h2>
					</a>
					<ol>
						<li><a href="#usage">Usage</a></li>
						<li><a href="#reporters">Reporters</a><ul>
								<li><a href="#summaryreporter">SummaryReporter</a></li>
								<li><a href="#verbosereporter">VerboseReporter</a></li>
								<li><a href="#jsonreporter">JSONReporter</a></li>
								<li><a href="#csvreporter">CSVReporter</a></li>
							</ul>
						</li>
						<li><a href="#portability">Portability</a></li>
						<li><a href="#rtrace-and-memory-leaks">RTrace and Memory Leaks</a></li>
						<li><a href="#performance-testing">Performance Testing</a></li>
						<li><a href="#using-as-pect-as-a-package">Using as-pect as a Package</a></li>
					</ol>
					<a href="#usage" id="usage" style="color: inherit; text-decoration: none;">
						<h2>Usage</h2>
					</a>
					<p>To install <code>@as-pect/core</code>, install the latest version from github along with
					<code>@as-pect/assembly</code>.</p>
					<pre><code>$ npm <span class="hljs-keyword">install</span> @<span class="hljs-keyword">as</span>-pect/core @<span class="hljs-keyword">as</span>-pect/<span class="hljs-keyword">assembly</span></code></pre><p>To create a <code>TestContext</code> simply import it and instantiate it.</p>
					<pre><code class="language-ts"><span class="hljs-keyword">import</span> { TestContext, EmptyReporter } <span class="hljs-keyword">from</span> <span class="hljs-string">"@as-pect/core"</span>;
<span class="hljs-keyword">import</span> { instantiateBuffer } <span class="hljs-keyword">from</span> <span class="hljs-string">"assemblyscript/lib/loader"</span>;

<span class="hljs-keyword">const</span> ctx = <span class="hljs-keyword">new</span> TestContext({
  fileName: <span class="hljs-string">"test.spec.ts"</span>, <span class="hljs-comment">// put the name of the AssemblyScript file here</span>
  <span class="hljs-comment">// groupRegex: /./, // if you want to filter what groups run, modify this regex</span>
  <span class="hljs-comment">// testRegex: /./, // if you want to filter what tests run, modify this regex</span>
  <span class="hljs-comment">// performanceConfiguration: {}, // modify the performance configuration here</span>
  <span class="hljs-comment">// nortrace: true, // disable rtrace monitoring</span>
  <span class="hljs-comment">// stdout: null, // change stdout (must have a `write(input: string)` method)</span>
  <span class="hljs-comment">// stderr: null, // change stderr (must have a `write(input: string)` method)</span>
});

<span class="hljs-keyword">const</span> imports = ctx.createImports({
  <span class="hljs-comment">// put any imports here</span>
});

<span class="hljs-comment">// instantiate the module using instantiateStreaming or instantiateBuffer</span>
<span class="hljs-keyword">const</span> wasm = <span class="hljs-keyword">await</span> instantiateStreaming(
  fetch(<span class="hljs-string">"./path/to/test/binary.wasm"</span>),
  imports,
);

<span class="hljs-comment">// run the tests</span>
ctx.run(wasm);

<span class="hljs-comment">// inspect the testGroups for errors</span>
<span class="hljs-keyword">const</span> groups = ctx.testGroups;

<span class="hljs-comment">// check if the tests passed</span>
<span class="hljs-keyword">const</span> pass = ctx.pass;</code></pre>
					<a href="#reporters" id="reporters" style="color: inherit; text-decoration: none;">
						<h2>Reporters</h2>
					</a>
					<p>Reporters are the way tests get reported. When running the CLI, the
						<code>SummaryReporter</code> is used and all the values will be logged to the console. The
						test suite itself does not log out test results. If you want to use a custom
					reporter, you can create your own by extending the abstract <code>Reporter</code> class.</p>
					<pre><code class="language-ts"><span class="hljs-keyword">export</span> <span class="hljs-keyword">abstract</span> <span class="hljs-keyword">class</span> Reporter {
  <span class="hljs-keyword">public</span> <span class="hljs-keyword">abstract</span> onStart(suite: TestSuite): <span class="hljs-built_in">void</span>;
  <span class="hljs-keyword">public</span> <span class="hljs-keyword">abstract</span> onGroupStart(group: TestGroup): <span class="hljs-built_in">void</span>;
  <span class="hljs-keyword">public</span> <span class="hljs-keyword">abstract</span> onGroupFinish(group: TestGroup): <span class="hljs-built_in">void</span>;
  <span class="hljs-keyword">public</span> <span class="hljs-keyword">abstract</span> onTestStart(group: TestGroup, result: TestResult): <span class="hljs-built_in">void</span>;
  <span class="hljs-keyword">public</span> <span class="hljs-keyword">abstract</span> onTestFinish(group: TestGroup, result: TestResult): <span class="hljs-built_in">void</span>;
  <span class="hljs-keyword">public</span> <span class="hljs-keyword">abstract</span> onFinish(suite: TestSuite): <span class="hljs-built_in">void</span>;
  <span class="hljs-keyword">public</span> <span class="hljs-keyword">abstract</span> onTodo(group: TestGroup, todo: <span class="hljs-built_in">string</span>): <span class="hljs-built_in">void</span>;
}</code></pre>
					<p>Each test suite run will use the provided reporter and call
						<code>onStart(suite: TestSuite)</code> to notify a consumer that a test has started. This
						happens once per test file. Since a file can have multiple <code>describe</code> function
						calls, these are logically placed into <code>TestGroup</code>s. Each <code>TestGroup</code> has it&#39;s
					own description and contains a list of <code>TestResult</code>s that were run.</p>
					<p>If no reporter is provided to the configuration, one will be provided that uses
					<code>stdout</code> and <code>chalk</code> to provide colored output.</p>
					<p>If performance is enabled, then the <code>times</code> array will be populated with the
					runtime values measured in milliseconds.</p>
					<a href="#summaryreporter" id="summaryreporter" style="color: inherit; text-decoration: none;">
						<h3>SummaryReporter</h3>
					</a>
					<p>This reporter only outputs failed tests and is the default <code>TestReporter</code> used
					by the <code>as-pect</code> cli. It can be used directly from the configuration file.</p>
					<pre><code class="language-ts"><span class="hljs-keyword">const</span> { SummaryReporter, TestContext } = <span class="hljs-built_in">require</span>(<span class="hljs-string">"@as-pect/core"</span>);

<span class="hljs-comment">// create a test context</span>
<span class="hljs-keyword">const</span> ctx = <span class="hljs-keyword">new</span> TestContext({
  reporter: <span class="hljs-keyword">new</span> SummaryReporter({
    <span class="hljs-comment">// enableLogging: false, // disable logging</span>
  }),
});</code></pre>
					<a href="#verbosereporter" id="verbosereporter" style="color: inherit; text-decoration: none;">
						<h3>VerboseReporter</h3>
					</a>
					<p>This reporter outputs a lot of information, including:</p>
					<ul>
						<li>All Test Groups and Test Names for each test</li>
						<li>RTrace Info (reference allocations vs deallocations)</li>
						<li>Performance Statistics</li>
						<li>Logging Information</li>
					</ul>
					<pre><code class="language-ts"><span class="hljs-keyword">const</span> { VerboseReporter, TestContext } = <span class="hljs-built_in">require</span>(<span class="hljs-string">"@as-pect/core"</span>);

<span class="hljs-comment">// create a test context</span>
<span class="hljs-keyword">const</span> ctx = <span class="hljs-keyword">new</span> TestContext({
  reporter: <span class="hljs-keyword">new</span> VerboseReporter(),
});</code></pre>
					<a href="#jsonreporter" id="jsonreporter" style="color: inherit; text-decoration: none;">
						<h3>JSONReporter</h3>
					</a>
					<p>The <code>JSONReporter</code> can be used to create <code>json</code> files that contain the test
						output. The file output location is <code>{testname}.spec.json</code>. It can be used
					directly from the configuration file.</p>
					<pre><code class="language-ts"><span class="hljs-keyword">const</span> { JSONReporter, TestContext } = <span class="hljs-built_in">require</span>(<span class="hljs-string">"@as-pect/core"</span>);

<span class="hljs-comment">// export your configuration</span>
<span class="hljs-keyword">const</span> ctx = <span class="hljs-keyword">new</span> TestContext({
  reporter: <span class="hljs-keyword">new</span> JSONReporter(), <span class="hljs-comment">// internally uses the fs.createWriteStream() function</span>
});</code></pre>
					<p>The object ouput definition is shaped like this:</p>
					<pre><code class="language-ts"><span class="hljs-comment">// Test Results are compiled into an array</span>
[
  <span class="hljs-comment">// For each test, there is an object with the following shape</span>
  {
    <span class="hljs-comment">// The Test Group</span>
    group: group.name,
    <span class="hljs-comment">// The Test Name</span>
    name: result.name,
    <span class="hljs-comment">// If it ran</span>
    ran: result.ran,
    <span class="hljs-comment">// If it passed</span>
    pass: result.pass,
    <span class="hljs-comment">// The total test runtim</span>
    runtime: result.runTime,
    <span class="hljs-comment">// The error message</span>
    message: result.message,
    <span class="hljs-comment">// Actual value message if an expectation failed</span>
    actual: result.actual ? result.actual.message : <span class="hljs-literal">null</span>,
    <span class="hljs-comment">// Expected value message if an expectation failed</span>
    expected: result.expected ? result.expected.message : <span class="hljs-literal">null</span>,
    <span class="hljs-comment">// The average run time (performance)</span>
    average: result.average,
    <span class="hljs-comment">// The median run time (performance)</span>
    median: result.median,
    <span class="hljs-comment">// The maximum run time (performance)</span>
    max: result.max,
    <span class="hljs-comment">// The minimum run time (performance)</span>
    min: result.min,
    <span class="hljs-comment">// The standard deviation of the run times (performance)</span>
    stdDev: result.stdDev,
    <span class="hljs-comment">// The variance of the run times (performance)</span>
    variance: result.variance,
  },
];</code></pre>
					<a href="#csvreporter" id="csvreporter" style="color: inherit; text-decoration: none;">
						<h3>CSVReporter</h3>
					</a>
					<p>The <code>CSVReporter</code> can be used to create <code>csv</code> files that contain the test
						output. The file output location is <code>{testname}.spec.csv</code>. It can be used
					directly from the configuration file.</p>
					<pre><code class="language-ts"><span class="hljs-keyword">const</span> { CSVReporter, TestContext } = <span class="hljs-built_in">require</span>(<span class="hljs-string">"@as-pect/core"</span>);

<span class="hljs-comment">// export your configuration</span>
<span class="hljs-keyword">const</span> ctx = <span class="hljs-keyword">new</span> TestContext({
  reporter: <span class="hljs-keyword">new</span> CSVReporter(), <span class="hljs-comment">// internally uses the fs.createWriteStream() function</span>
});</code></pre>
					<p>This is a list of all the columns in the exported csv file.</p>
					<pre><code class="language-ts"><span class="hljs-keyword">const</span> csvColumns = [
  <span class="hljs-string">"Group"</span>, <span class="hljs-comment">// The Test Group</span>
  <span class="hljs-string">"Name"</span>, <span class="hljs-comment">// The Test Name</span>
  <span class="hljs-string">"Ran"</span>, <span class="hljs-comment">// If it ran</span>
  <span class="hljs-string">"Pass"</span>, <span class="hljs-comment">// If it passed</span>
  <span class="hljs-string">"Runtime"</span>, <span class="hljs-comment">// The total test runtim</span>
  <span class="hljs-string">"Message"</span>, <span class="hljs-comment">// The error message</span>
  <span class="hljs-string">"Actual"</span>, <span class="hljs-comment">// Actual value message if an expectation failed</span>
  <span class="hljs-string">"Expected"</span>, <span class="hljs-comment">// Expected value message if an expectation failed</span>
  <span class="hljs-string">"Average"</span>, <span class="hljs-comment">// The average run time (performance)</span>
  <span class="hljs-string">"Median"</span>, <span class="hljs-comment">// The median run time (performance)</span>
  <span class="hljs-string">"Max"</span>, <span class="hljs-comment">// The maximum run time (performance)</span>
  <span class="hljs-string">"Min"</span>, <span class="hljs-comment">// The minimum run time (performance)</span>
  <span class="hljs-string">"StdDev"</span>, <span class="hljs-comment">// The standard deviation of the run times (performance)</span>
  <span class="hljs-string">"Variance"</span>, <span class="hljs-comment">// The variance of the run times (performance)</span>
];</code></pre>
					<a href="#portability" id="portability" style="color: inherit; text-decoration: none;">
						<h2>Portability</h2>
					</a>
					<p>It is possible to write <code>as-pect</code> tests that run in <code>jest</code> as well. The
						compatible functions are documented in the
						<code>@as-pect/core/types/as-pect.portable.d.ts</code> file and can be added to your
						project by using the <code>--portable</code> flag. Instead of using the types provided by
						<code>@types/jest</code>, use the portable ones provided by <code>as-pect</code>. This is the
					recommended way to setup testing when trying to write portable tests.</p>
					<pre><code>npm install --save-dev jest <span class="hljs-meta">@as</span>-pect<span class="hljs-regexp">/cli typescript assemblyscript/</span>assemblyscript
npx ts-jest <span class="hljs-string">config:</span>init
npx asp --portable</code></pre><p>Then change the jest configuration to match these properties as you see fit:</p>
					<pre><code class="language-js"><span class="hljs-built_in">module</span>.exports = {
  <span class="hljs-attr">preset</span>: <span class="hljs-string">"ts-jest"</span>,
  <span class="hljs-attr">testEnvironment</span>: <span class="hljs-string">"node"</span>,
  <span class="hljs-attr">testMatch</span>: [<span class="hljs-string">"assembly/__tests__/**/*.spec.ts"</span>],
};</code></pre>
					<p>This is the compatibility table.</p>
					<!-- markdownlint-disable MD013 -->
					<table>
						<thead>
							<tr>
								<th>Method</th>
								<th>Compatibility</th>
								<th>Notes</th>
							</tr>
						</thead>
						<tbody><tr>
								<td></td>
								<td></td>
								<td></td>
							</tr>
							<tr>
								<td>expect(value)</td>
								<td>✔ Supported</td>
								<td></td>
							</tr>
							<tr>
								<td>expect.extend(matchers)</td>
								<td>👎 Won&#39;t Support</td>
								<td>This method is used for extending matchers in JS. JS is a dynamic language, and AssemblyScript is not. It is possible to create custom assertions without this method, so it is marked as &quot;won&#39;t support.&quot;</td>
							</tr>
							<tr>
								<td>expect.anything()</td>
								<td>🤞 Maybe Support</td>
								<td>This is a dynamic matcher, and dynamic matchers are currently not supported. It is possible to implement something like this. Please see <a href="#contributing">contributing</a> on how to submit a pull request.</td>
							</tr>
							<tr>
								<td>expect.any(constructor)</td>
								<td>👎 Won&#39;t Support</td>
								<td>This method is impossible to replicate in AssemblyScript because classes are not concrete values.</td>
							</tr>
							<tr>
								<td>expect.arrayContaining(array)</td>
								<td>🤞 Maybe Support</td>
								<td>This is a dynamic matcher, and dynamic matchers are currently not supported. It is possible to implement something like this. Please see <a href="#contributing">contributing</a> on how to submit a pull request.</td>
							</tr>
							<tr>
								<td>expect.assertions(number)</td>
								<td>🤞 Maybe Support</td>
								<td>This is entirely possible to implement. Please see <a href="#contributing">contributing</a> on how to submit a pull request.</td>
							</tr>
							<tr>
								<td>expect.hasAssertions()</td>
								<td>🤞 Maybe Support</td>
								<td>This is entirely possible to implement. Please see <a href="#contributing">contributing</a> on how to submit a pull request.</td>
							</tr>
							<tr>
								<td>expect.not.arrayContaining(array)</td>
								<td>🤞 Maybe Support</td>
								<td>This is entirely possible to implement. Please see <a href="#contributing">contributing</a> on how to submit a pull request.</td>
							</tr>
							<tr>
								<td>expect.not.objectContaining(object)</td>
								<td>🛑 Maybe Support (waiting)</td>
								<td>This is entirely possible to implement, but Reflection must be supported.</td>
							</tr>
							<tr>
								<td>expect.not.stringContaining(string)</td>
								<td>🤞 Maybe Support</td>
								<td>This is entirely possible to implement. Please see <a href="#contributing">contributing</a> on how to submit a pull request.</td>
							</tr>
							<tr>
								<td>expect.not.stringMatching(string | regexp)</td>
								<td>🛑 Maybe Support (waiting)</td>
								<td>This is entirely possible to implement, but this method may require a RegExp implemention to be implemented fully. Please see <a href="#contributing">contributing</a> on how to submit a pull request.</td>
							</tr>
							<tr>
								<td>expect.objectContaining(object)</td>
								<td>🛑 Maybe Support (waiting)</td>
								<td>This is entirely possible to implement, but Reflection must be supported.</td>
							</tr>
							<tr>
								<td>expect.stringContaining(string)</td>
								<td>🤞 Maybe Support</td>
								<td>This is entirely possible to implement. Please see <a href="#contributing">contributing</a> on how to submit a pull request.</td>
							</tr>
							<tr>
								<td>expect.stringMatching(string | regexp)</td>
								<td>🛑 Maybe Support (waiting)</td>
								<td>This is entirely possible to implement, but this method may require a RegExp implemention to be implemented fully. Please see <a href="#contributing">contributing</a> on how to submit a pull request.</td>
							</tr>
							<tr>
								<td>expect.addSnapshotSerializer(serializer)</td>
								<td>🤞 Maybe Support</td>
								<td>This may be possible to implement, but this method requires snapshots. Please see <a href="#contributing">contributing</a> on how to submit a pull request.</td>
							</tr>
							<tr>
								<td>.not</td>
								<td>✔ Supported</td>
								<td></td>
							</tr>
							<tr>
								<td>.resolves</td>
								<td>🛑 Maybe Support (waiting)</td>
								<td>This may be possible to implement, but this method requires Promises. Please see <a href="#contributing">contributing</a> on how to submit a pull request.</td>
							</tr>
							<tr>
								<td>.rejects</td>
								<td>🛑 Maybe Support (waiting)</td>
								<td>This may be possible to implement, but this method requires Promises. Please see <a href="#contributing">contributing</a> on how to submit a pull request.</td>
							</tr>
							<tr>
								<td>.toBe(value)</td>
								<td>✔ Supported</td>
								<td></td>
							</tr>
							<tr>
								<td>.toHaveBeenCalled()</td>
								<td>🤞 Maybe Support</td>
								<td>Currently, there is no good way to use jest.fn() in <code>as-pect</code>. However, it is possible to apply a transform to the source and notify the host that a function has been called. We can support this feature under a <code>--function-calls</code> flag potentially. Please see <a href="#contributing">contributing</a> on how to submit a pull request.</td>
							</tr>
							<tr>
								<td>.toHaveBeenCalledTimes(number)</td>
								<td>🤞 Maybe Support</td>
								<td>Currently, there is no good way to use jest.fn() in <code>as-pect</code>. However, it is possible to apply a transform to the source and notify the host that a function has been called. We can support this feature under a <code>--function-calls</code> flag potentially. Please see <a href="#contributing">contributing</a> on how to submit a pull request.</td>
							</tr>
							<tr>
								<td>.toHaveBeenCalledWith(arg1, arg2, ...)</td>
								<td>👎 Won&#39;t Support</td>
								<td>Rest parameters and argument inspection is not possible in AssemblyScript.</td>
							</tr>
							<tr>
								<td>.toHaveBeenLastCalledWith(arg1, arg2, ...)</td>
								<td>👎 Won&#39;t Support</td>
								<td>Rest parameters and argument inspection is not possible in AssemblyScript.</td>
							</tr>
							<tr>
								<td>.toHaveBeenNthCalledWith(nthCall, arg1, arg2, ....)</td>
								<td>👎 Won&#39;t Support</td>
								<td>Rest parameters and argument inspection is not possible in AssemblyScript.</td>
							</tr>
							<tr>
								<td>.toHaveReturned()</td>
								<td>🤞 Maybe Support</td>
								<td>Currently, there is no good way to use jest.fn() in <code>as-pect</code>. However, it is possible to apply a transform to the source and notify the host that a function has returned a value. We can support this feature under a <code>--function-calls</code> flag potentially. Please see <a href="#contributing">contributing</a> on how to submit a pull request.</td>
							</tr>
							<tr>
								<td>.toHaveReturnedTimes(number)</td>
								<td>🤞 Maybe Support</td>
								<td>Currently, there is no good way to use jest.fn() in <code>as-pect</code>. However, it is possible to apply a transform to the source and notify the host that a function has returned a value. We can support this feature under a <code>--function-calls</code> flag potentially. Please see <a href="#contributing">contributing</a> on how to submit a pull request.</td>
							</tr>
							<tr>
								<td>.toHaveReturnedWith(value)</td>
								<td>🤞 Maybe Support</td>
								<td>Currently, there is no good way to use jest.fn() in <code>as-pect</code>. However, it is possible to apply a transform to the source and notify the host that a function has returned a value. We can support this feature under a <code>--function-calls</code> flag potentially. Please see <a href="#contributing">contributing</a> on how to submit a pull request.</td>
							</tr>
							<tr>
								<td>.toHaveLastReturnedWith(value)</td>
								<td>🤞 Maybe Support</td>
								<td>Currently, there is no good way to use jest.fn() in <code>as-pect</code>. However, it is possible to apply a transform to the source and notify the host that a function has returned a value. We can support this feature under a <code>--function-calls</code> flag potentially. Please see <a href="#contributing">contributing</a> on how to submit a pull request.</td>
							</tr>
							<tr>
								<td>.toHaveNthReturnedWith(nthCall, value)</td>
								<td>🤞 Maybe Support</td>
								<td>Currently, there is no good way to use jest.fn() in <code>as-pect</code>. However, it is possible to apply a transform to the source and notify the host that a function has returned a value. We can support this feature under a <code>--function-calls</code> flag potentially. Please see <a href="#contributing">contributing</a> on how to submit a pull request.</td>
							</tr>
							<tr>
								<td>.toHaveLength(number)</td>
								<td>✔ Supported</td>
								<td>Only incompatible with <code>ArrayBuffer</code> values</td>
							</tr>
							<tr>
								<td>.toHaveProperty(keyPath, value?)</td>
								<td>👎 Won&#39;t Support</td>
								<td>Properties are known at compile time.</td>
							</tr>
							<tr>
								<td>.toBeCloseTo(number, numDigits?)</td>
								<td>✔ Supported</td>
								<td></td>
							</tr>
							<tr>
								<td>.toBeDefined()</td>
								<td>🤞 Maybe Support</td>
								<td>This is currently possible to implement. Please see <a href="#contributing">contributing</a> on how to submit a pull request.</td>
							</tr>
							<tr>
								<td>.toBeFalsy()</td>
								<td>✔ Supported</td>
								<td></td>
							</tr>
							<tr>
								<td>.toBeGreaterThan(number)</td>
								<td>✔ Supported</td>
								<td>References comparisons using this comparison require overriding <code>valueOf()</code> which should a <code>f64</code> value, and using the <code>operator(&quot;&gt;&quot;)</code> decorator.</td>
							</tr>
							<tr>
								<td>.toBeGreaterThanOrEqual(number)</td>
								<td>✔ Supported</td>
								<td>References comparisons using this comparison require overriding <code>valueOf()</code> which should a <code>f64</code> value, and using the <code>operator(&quot;&gt;=&quot;)</code> decorator.</td>
							</tr>
							<tr>
								<td>.toBeLessThan(number)</td>
								<td>✔ Supported</td>
								<td>References comparisons using this comparison require overriding <code>valueOf()</code> which should a <code>f64</code> value, and using the <code>operator(&quot;&lt;&quot;)</code> decorator.</td>
							</tr>
							<tr>
								<td>.toBeLessThanOrEqual(number)</td>
								<td>✔ Supported</td>
								<td>References comparisons using this comparison require overriding <code>valueOf()</code> which should a <code>f64</code> value, and using the <code>operator(&quot;&lt;=&quot;)</code> decorator.</td>
							</tr>
							<tr>
								<td>.toBeInstanceOf(Class)</td>
								<td>👎 Won&#39;t Support</td>
								<td>Use <code>expect&lt;bool&gt;(actual instanceof Class).toBeTruthy()</code> instead.</td>
							</tr>
							<tr>
								<td>.toBeNull()</td>
								<td>✔ Supported</td>
								<td>Only works for reference values. Number values will always fail this assertion in AssemblyScript.</td>
							</tr>
							<tr>
								<td>.toBeTruthy()</td>
								<td>✔ Supported</td>
								<td></td>
							</tr>
							<tr>
								<td>.toBeUndefined()</td>
								<td>👎 Won&#39;t Support</td>
								<td>The <code>undefined</code> value does not exist in AssemblyScript.</td>
							</tr>
							<tr>
								<td>.toBeNaN()</td>
								<td>✔ Supported</td>
								<td>Must be used on float values.</td>
							</tr>
							<tr>
								<td>.toContain(item)</td>
								<td>✔ Partially Supported</td>
								<td>Type cannot be string (yet.) This will be supported on a future date. Please see <a href="#contributing">contributing</a> on how to submit a pull request.</td>
							</tr>
							<tr>
								<td>.toContainEqual(item)</td>
								<td>✔ Supported</td>
								<td></td>
							</tr>
							<tr>
								<td>.toEqual(value)</td>
								<td>🤞 Maybe Support</td>
								<td>This can be implemented when reflection is implemented. Please see <a href="#contributing">contributing</a> on how to submit a pull request.</td>
							</tr>
							<tr>
								<td>.toMatch(regexpOrString)</td>
								<td>🤞 Maybe Support</td>
								<td>This method requires RegExp for full support. Please see <a href="#contributing">contributing</a> on how to submit a pull request.</td>
							</tr>
							<tr>
								<td>.toMatchObject(object)</td>
								<td>🤞 Maybe Support</td>
								<td>This can be implemented when reflection is implemented. Please see <a href="#contributing">contributing</a> on how to submit a pull request.</td>
							</tr>
							<tr>
								<td>.toMatchSnapshot(propertyMatchers?, hint?)</td>
								<td>🤞 Maybe Support</td>
								<td>This is hard to implement because JS can dynamically inspect arguments. It requires a filesystem and should serialize snapshots just like jest does. Perhaps partial support for <code>expect(actual).toMatchSnapshot(hint?)</code> would be a good compromise. Please see <a href="#contributing">contributing</a> on how to submit a pull request.</td>
							</tr>
							<tr>
								<td>.toMatchInlineSnapshot(propertyMatchers?, inlineSnapshot)</td>
								<td>👎 Won&#39;t Support</td>
								<td>This will require a post-test-run transform and is not on the roadmap. This requires sourcemaps and an ast transformer like babel or prettier.</td>
							</tr>
							<tr>
								<td>.toStrictEqual(value)</td>
								<td>✔ Partially Supported</td>
								<td>This method requires Reflection for full support. Please see <a href="#contributing">contributing</a> on how to submit a pull request.</td>
							</tr>
							<tr>
								<td>.toThrow(error?)</td>
								<td>✔ Partially Supported</td>
								<td>This method is partially supported because errors cannot be inspected for their type.</td>
							</tr>
							<tr>
								<td>.toThrowErrorMatchingSnapshot(hint?)</td>
								<td>👎 Won&#39;t Support</td>
								<td>This method is cannot be supported because errors cannot be inspected for their type.</td>
							</tr>
							<tr>
								<td>.toThrowErrorMatchingInlineSnapshot(inlineSnapshot)</td>
								<td>👎 Won&#39;t Support</td>
								<td>This method is cannot be supported because errors cannot be inspected for their type, it requires a post-test-run transform, and it also requires an ast transformer like babel or prettier.</td>
							</tr>
					</tbody></table>
					<!-- markdownlint-enable MD013 -->
					<a href="#rtrace-and-memory-leaks" id="rtrace-and-memory-leaks" style="color: inherit; text-decoration: none;">
						<h2>RTrace and Memory Leaks</h2>
					</a>
					<p>If an expectation fails and hits an <code>unreachable()</code> instruction, any unreleased
						references in the function call stack will be held indefinitely as a memory
						leak. Test Suites don&#39;t stop running if they fail the test callback. However,
						tests will stop if they fail inside the <code>beforeEach()</code>, <code>beforeAll()</code>,
					<code>afterEach()</code>, and <code>afterAll()</code> callbacks.</p>
					<p>Typically, a <code>throws()</code> test will leave at <em>least</em> a single <code>Expectation</code> on the
						heap. This is to be expected, because the <code>unreachable()</code> instruction unwinds
						the stack, and prevents the ability for each function to <code>__release</code> a reference
					pointer properly. Your test suite output may look like this:</p>
					<pre><code>[<span class="hljs-keyword">Describe</span>]: toHaveLength TypedArray <span class="hljs-keyword">type</span>: Uint32Array

 [<span class="hljs-keyword">Success</span>]: ✔ should assert expected <span class="hljs-keyword">length</span>
  [Throws]: ✔ <span class="hljs-keyword">when</span> expected <span class="hljs-keyword">length</span> should <span class="hljs-keyword">not</span> equal the same <span class="hljs-keyword">value</span> RTrace: +<span class="hljs-number">3</span>
 [<span class="hljs-keyword">Success</span>]: ✔ should <span class="hljs-keyword">verify</span> the <span class="hljs-keyword">length</span> <span class="hljs-keyword">is</span> <span class="hljs-keyword">not</span> another <span class="hljs-keyword">value</span>
  [Throws]: ✔ <span class="hljs-keyword">when</span> the <span class="hljs-keyword">length</span> <span class="hljs-keyword">is</span> another expected <span class="hljs-keyword">value</span> RTrace: +<span class="hljs-number">3</span></code></pre><p>The <code>RTrace: +3</code> corresponds to an <code>Expectation</code>, a <code>Uint32Array</code>, and a single
						backing <code>ArrayBuffer</code> that was left on the heap because of the fact that the
						expectation failed. This was expected because these two tests were annotated
						with the <code>throws(desc, callback)</code> function. If you see a function that is
						expected to <code>pass</code> and <code>RTrace</code> returns a very large value, it might be an
						indicator of a very serious memory leak, and the <code>DefaultTestReporter</code> can be
					your best friend when it comes to finding these sorts of problems.</p>
					<p>Among other solutions, the following methods are exposed to you as a way to
						inspect how many allocations and frees occurred during the course of function
						execution. Every one of these functions exist in the <code>RTrace</code> namespace and will
						call into JavaScript to query the state of the heap relative to the overall test
					file, the test group, and each individual test depending on the function.</p>
					<a href="#rtracecount" id="rtracecount" style="color: inherit; text-decoration: none;">
						<h3>RTrace.count()</h3>
					</a>
					<p>The count method returns the current number of heap allocations.</p>
					<p>Example:</p>
					<pre><code class="language-ts"><span class="hljs-keyword">const</span> num: i32 = RTrace.count(); <span class="hljs-comment">// The current number of allocations on the heap</span></code></pre>
					<a href="#rtracestartlabel-i32" id="rtracestartlabel-i32" style="color: inherit; text-decoration: none;">
						<h3>RTrace.start(label: i32)</h3>
					</a>
					<p>The start method creates a starting point for a relative number of heap
						allocations. It should be used in conjunction with the <code>RTrace.end(label)</code>
						method which returns the relative number of heap allocations compared to the
					starting number when the label was created.</p>
					<p>Example:</p>
					<pre><code class="language-ts"><span class="hljs-keyword">const</span> <span class="hljs-keyword">enum</span> RTraceLabels {
  MEMORY_INTENSIVE_OPERATION = <span class="hljs-number">0</span>,
}

RTrace.start(RTraceLabels.MEMORY_INTENSIVE_OPERATION);
doSomething();
<span class="hljs-keyword">const</span> end: i32 = RTrace.end(RTraceLabels.MEMORY_INTENSIVE_OPERATION);
expect&lt;i32&gt;(end).toBe(<span class="hljs-number">0</span>);</code></pre>
					<a href="#rtraceendlabel-i32" id="rtraceendlabel-i32" style="color: inherit; text-decoration: none;">
						<h3>RTrace.end(label: i32)</h3>
					</a>
					<p>The end method creates an ending point for a relative number of heap
						allocations to be measured from. It should be used in conjunction with the
						<code>RTrace.start(label)</code> method which returns the relative number of heap
					allocations compared to the starting number when the label was created.</p>
					<p>Example:</p>
					<pre><code class="language-ts"><span class="hljs-keyword">const</span> <span class="hljs-keyword">enum</span> RTraceLabels {
  MEMORY_INTENSIVE_OPERATION = <span class="hljs-number">0</span>,
}

RTrace.start(RTraceLabels.MEMORY_INTENSIVE_OPERATION);
doSomething();
<span class="hljs-keyword">const</span> end: i32 = RTrace.end(RTraceLabels.MEMORY_INTENSIVE_OPERATION);
expect&lt;i32&gt;(end).toBe(<span class="hljs-number">0</span>);</code></pre>
					<a href="#rtraceallocations" id="rtraceallocations" style="color: inherit; text-decoration: none;">
						<h3>RTrace.allocations()</h3>
					</a>
					<p>The allocations function will report the exact number of allocations that have
					occurred during the course of test file evaluation.</p>
					<pre><code class="language-ts"><span class="hljs-keyword">const</span> allocations: i32 = RTrace.allocations();</code></pre>
					<a href="#rtracefrees" id="rtracefrees" style="color: inherit; text-decoration: none;">
						<h3>RTrace.frees()</h3>
					</a>
					<p>The allocations function will report the exact number of frees that have
					occurred during the course of test file evaluation.</p>
					<pre><code class="language-ts"><span class="hljs-keyword">const</span> frees: i32 = RTrace.frees();</code></pre>
					<a href="#rtracegroupallocations" id="rtracegroupallocations" style="color: inherit; text-decoration: none;">
						<h3>RTrace.groupAllocations()</h3>
					</a>
					<p>The allocations function will report the exact number of allocations that have
					occurred during the course of the test group&#39;s evaluation.</p>
					<pre><code class="language-ts">describe(<span class="hljs-string">"a group"</span>, <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
  afterAll(<span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
    <span class="hljs-keyword">const</span> groupAllocations: i32 = RTrace.groupAllocations();
  });
});</code></pre>
					<a href="#rtracegroupfrees" id="rtracegroupfrees" style="color: inherit; text-decoration: none;">
						<h3>RTrace.groupFrees()</h3>
					</a>
					<p>The frees function will report the exact number of frees that have occurred
					during the course of the test group&#39;s evaluation.</p>
					<pre><code class="language-ts">describe(<span class="hljs-string">"a group"</span>, <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
  afterAll(<span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
    <span class="hljs-keyword">const</span> groupFrees: i32 = RTrace.groupFrees();
  });
});</code></pre>
					<a href="#rtracetestallocations" id="rtracetestallocations" style="color: inherit; text-decoration: none;">
						<h3>RTrace.testAllocations()</h3>
					</a>
					<p>The allocations function will report the exact number of allocations that have
					occurred during the course of the test&#39;s evaluation.</p>
					<pre><code class="language-ts">describe(<span class="hljs-string">"a group"</span>, <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
  afterEach(<span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
    <span class="hljs-keyword">const</span> testAllocations: i32 = RTrace.testAllocations();
  });
});</code></pre>
					<a href="#rtracetestfrees" id="rtracetestfrees" style="color: inherit; text-decoration: none;">
						<h3>RTrace.testFrees()</h3>
					</a>
					<p>The frees function will report the exact number of frees that have occurred
					during the course of the test&#39;s evaluation.</p>
					<pre><code class="language-ts">describe(<span class="hljs-string">"a group"</span>, <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
  afterEach(<span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
    <span class="hljs-keyword">const</span> testFrees: i32 = RTrace.testFrees();
  });
});</code></pre>
					<a href="#rtraceincrements" id="rtraceincrements" style="color: inherit; text-decoration: none;">
						<h3>RTrace.increments()</h3>
					</a>
					<p>The increments function returns the total number of reference counted increments
					that occurred over the course of the current test file.</p>
					<p>Example:</p>
					<pre><code class="language-ts"><span class="hljs-keyword">const</span> increments: i32 = RTrace.increments();</code></pre>
					<a href="#rtracedecrements" id="rtracedecrements" style="color: inherit; text-decoration: none;">
						<h3>RTrace.decrements()</h3>
					</a>
					<p>The decrements function returns the total number of reference counted decrements
					that occurred over the course of the current test file.</p>
					<p>Example:</p>
					<pre><code class="language-ts"><span class="hljs-keyword">const</span> decrements: i32 = RTrace.decrements();</code></pre>
					<a href="#rtracegroupincrements" id="rtracegroupincrements" style="color: inherit; text-decoration: none;">
						<h3>RTrace.groupIncrements()</h3>
					</a>
					<p>The groupIncrements function returns the total number of reference counted
					increments that occurred over the course of the current testing group.</p>
					<pre><code class="language-ts">describe(<span class="hljs-string">"A testing group"</span>, <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
  afterAll(<span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
    <span class="hljs-comment">// log how many increments occured</span>
    log&lt;i32&gt;(RTrace.groupIncrements());
  });
});</code></pre>
					<a href="#rtracegroupdecrements" id="rtracegroupdecrements" style="color: inherit; text-decoration: none;">
						<h3>RTrace.groupDecrements()</h3>
					</a>
					<p>The groupDecrements function returns the total number of reference counted
					decrements that occurred over the course of the current testing group.</p>
					<pre><code class="language-ts">describe(<span class="hljs-string">"A testing group"</span>, <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
  afterAll(<span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
    <span class="hljs-comment">// log how many increments occured</span>
    log&lt;i32&gt;(RTrace.groupDecrements());
  });
});</code></pre>
					<a href="#rtracetestincrements" id="rtracetestincrements" style="color: inherit; text-decoration: none;">
						<h3>RTrace.testIncrements()</h3>
					</a>
					<p>The testIncrements function returns the total number of reference counted
					increments that occurred over the course of the current testing group.</p>
					<pre><code class="language-ts">describe(<span class="hljs-string">"A testing group"</span>, <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
  afterEach(<span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
    <span class="hljs-comment">// log how many increments occured</span>
    log&lt;i32&gt;(RTrace.testIncrements());
  });
});</code></pre>
					<a href="#rtracetestdecrements" id="rtracetestdecrements" style="color: inherit; text-decoration: none;">
						<h3>RTrace.testDecrements()</h3>
					</a>
					<p>The testDecrements function returns the total number of reference counted
					decrements that occurred over the course of the current testing group.</p>
					<pre><code class="language-ts">describe(<span class="hljs-string">"A testing group"</span>, <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
  afterEach(<span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
    <span class="hljs-comment">// log how many increments occured</span>
    log&lt;i32&gt;(RTrace.testDecrements());
  });
});</code></pre>
					<a href="#rtracecollect" id="rtracecollect" style="color: inherit; text-decoration: none;">
						<h3>RTrace.collect()</h3>
					</a>
					<p>This method triggers a garbage collection.</p>
					<pre><code class="language-ts">describe(<span class="hljs-string">"something"</span>, <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
  <span class="hljs-comment">// put some tests here</span>
});

afterEach(<span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
  <span class="hljs-comment">// trigger a garbage collection after each test</span>
  RTrace.collect();
});</code></pre>
					<a href="#performance-testing" id="performance-testing" style="color: inherit; text-decoration: none;">
						<h2>Performance Testing</h2>
					</a>
					<p>To increase performance on testing, do not use the <code>log()</code> function and reduce
						the amount of IO that <code>as-pect</code> must do to compile your tests. The biggest
						bottleneck in Web Assembly testing, is compilation. This means that using
						things like <code>@inline</code> many times will cause your module to compile more slowly,
					and as a result the test file will run slower.</p>
					<a href="#performance-enabling-via-api" id="performance-enabling-via-api" style="color: inherit; text-decoration: none;">
						<h3>Performance Enabling Via API</h3>
					</a>
					<p>To enable performance using the global test functions, call the
					<code>Performance.enabled()</code> function with a <code>true</code> value.</p>
					<pre><code class="language-ts">describe(<span class="hljs-string">"my test suite"</span>, <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
  Performance.enabled(<span class="hljs-literal">true</span>);
  test(<span class="hljs-string">"some performance test"</span>, <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
    <span class="hljs-comment">// some performance sensitive code</span>
  });
});</code></pre>
					<p>When using <code>Performance.enabled(true)</code> on a test, logs are not supported for
						that specific test. Running 10000 samples of a function that collects logs
						will result in a very large amount of memory usage and IO. Calls to <code>log&lt;T&gt;()</code>
						will be ignored and any test with the <code>test.performance</code> property set to
					<code>true</code> will have a <code>test.logs</code> array with a length of <code>0</code>.</p>
					<p>Note that each of the performance functions must be called before the test is
						declared in the same <code>describe</code> block to override the corresponding default
					configuration values on a test by test basis.</p>
					<p>To override the maximum number of samples collected, use the
					<code>Performance.maxSamples</code> function.</p>
					<pre><code class="language-ts">Performance.maxSamples(<span class="hljs-number">10000</span>); <span class="hljs-comment">// 10000 is the maximum value</span>
it(<span class="hljs-string">"should collect only 10000 samples at most"</span>, <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {});</code></pre>
					<p>To override the maximum test run time (including test logic), use the
					<code>Performance.maxRunTime</code> function.</p>
					<pre><code class="language-ts">Performance.maxRunTime(<span class="hljs-number">5000</span>); <span class="hljs-comment">// 5000 ms, or 5 seconds of test run time</span>
it(<span class="hljs-string">"should have a maxRunTime of 5 seconds"</span>, <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {});</code></pre>
					<p>To override how many decimal places are rounded to, use the
					<code>Performance.roundDecimalPlaces</code> function.</p>
					<pre><code class="language-ts">Performance.roundDecimalPlaces(<span class="hljs-number">4</span>); <span class="hljs-comment">// 3 is the default</span>
it(<span class="hljs-string">"should round to 4 decimal places"</span>, <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {});</code></pre>
					<p>To force reporting of the median test runtime, use the
					<code>Performance.reportMedian</code> function.</p>
					<pre><code class="language-ts">Performance.reportMedian(<span class="hljs-literal">true</span>); <span class="hljs-comment">// false will disable reporting of the median</span>
it(<span class="hljs-string">"should report the median"</span>, <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {});</code></pre>
					<p>To force reporting of the average, or mean test runtime, use the
					<code>Performance.reportAverage</code> function.</p>
					<pre><code class="language-ts">Performance.reportAverage(<span class="hljs-literal">true</span>); <span class="hljs-comment">// false will disable reporting of the mean</span>
it(<span class="hljs-string">"should report the average"</span>, <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {});</code></pre>
					<p>To force reporting of the variance of the runtimes, use the
					<code>Performance.reportVariance</code> function.</p>
					<pre><code class="language-ts"><span class="hljs-comment">// false will disable reporting of the variance</span>
Performance.reportVariance(<span class="hljs-literal">true</span>);
it(<span class="hljs-string">"should report the variance deviation"</span>, <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {});</code></pre>
					<p>To force reporting of the standard deviation of the runtimes, use the
						<code>Performance.reportStdDev</code> function. This method implies the use of a variance
					calculation, and will be auto-included in the test result.</p>
					<pre><code class="language-ts"><span class="hljs-comment">// false will disable reporting of the standard deviation</span>
Performance.reportStdDev(<span class="hljs-literal">true</span>);
it(<span class="hljs-string">"should report the standard deviation"</span>, <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {});</code></pre>
					<p>To force reporting of the maximum runTime value, use the
					<code>Performance.reportMax</code> function.</p>
					<pre><code class="language-ts">Performance.reportMax(<span class="hljs-literal">true</span>); <span class="hljs-comment">// false will disable reporting of the max</span>
it(<span class="hljs-string">"should report the max"</span>, <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {});</code></pre>
					<p>To force reporting of the minimum runTime value, use the
					<code>Performance.reportMin</code> function.</p>
					<pre><code class="language-ts">Performance.reportMin(<span class="hljs-literal">true</span>); <span class="hljs-comment">// false will disable reporting of the min</span>
it(<span class="hljs-string">"should report the min"</span>, <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {});</code></pre>
					<a href="#performance-enabling-via-configuration" id="performance-enabling-via-configuration" style="color: inherit; text-decoration: none;">
						<h2>Performance Enabling Via Configuration</h2>
					</a>
					<p>Providing these values inside an <code>as-pect.config.js</code> configuration will set
					these as <em>the</em> global defaults.</p>
					<p>Note that when using the <code>cli</code>, the cli flag inputs will override the
					<code>as-pect.config.js</code> configured values.</p>
					<pre><code class="language-js"><span class="hljs-comment">// in as-pect.config.js</span>
<span class="hljs-built_in">module</span>.exports = {
  <span class="hljs-attr">performance</span>: {
    <span class="hljs-comment">/** Enable performance statistics gathering for *every* test. */</span>
    <span class="hljs-attr">enabled</span>: <span class="hljs-literal">false</span>,
    <span class="hljs-comment">/** Set the maximum number of samples to run for every test. */</span>
    <span class="hljs-attr">maxSamples</span>: <span class="hljs-number">10000</span>,
    <span class="hljs-comment">/** Set the maximum test run time in milliseconds for every test. */</span>
    <span class="hljs-attr">maxTestRunTime</span>: <span class="hljs-number">2000</span>,
    <span class="hljs-comment">/** Report the median time in the default reporter for every test. */</span>
    <span class="hljs-attr">reportMedian</span>: <span class="hljs-literal">true</span>,
    <span class="hljs-comment">/** Report the average time in milliseconds for every test. */</span>
    <span class="hljs-attr">reportAverage</span>: <span class="hljs-literal">true</span>,
    <span class="hljs-comment">/** Report the standard deviation for every test. */</span>
    <span class="hljs-attr">reportStandardDeviation</span>: <span class="hljs-literal">false</span>,
    <span class="hljs-comment">/** Report the maximum run time in milliseconds for every test. */</span>
    <span class="hljs-attr">reportMax</span>: <span class="hljs-literal">false</span>,
    <span class="hljs-comment">/** Report the minimum run time in milliseconds for every test. */</span>
    <span class="hljs-attr">reportMin</span>: <span class="hljs-literal">false</span>,
  },
};</code></pre>
					<a href="#using-as-pect-as-a-package" id="using-as-pect-as-a-package" style="color: inherit; text-decoration: none;">
						<h2>Using as-pect as a Package</h2>
					</a>
					<p>It&#39;s possible that running your tests requires a browser environment. Instead
						of running <code>as-pect</code> from the command line, use the <code>--output-binary</code> flag
						along with the <code>--norun</code> flag and this will cause <code>as-pect</code> to output the
						<code>*.spec.wasm</code> file. This binary can be <code>fetch()</code>ed and instantiate like the
					following example.</p>
					<pre><code class="language-ts"><span class="hljs-comment">// browser-test.ts</span>
<span class="hljs-keyword">import</span> { instantiateBuffer } <span class="hljs-keyword">from</span> <span class="hljs-string">"assemblyscript/lib/loader"</span>;
<span class="hljs-keyword">import</span> {
  TestContext,
  IPerformanceConfiguration,
  IAspectExports,
  <span class="hljs-comment">// EmptyReporter,</span>
} <span class="hljs-keyword">from</span> <span class="hljs-string">"as-pect"</span>;

<span class="hljs-keyword">const</span> performanceConfiguration: IPerformanceConfiguration = {
  <span class="hljs-comment">// put performance configuration values here</span>
};

<span class="hljs-comment">// Create a TestContext</span>
<span class="hljs-keyword">const</span> runner = <span class="hljs-keyword">new</span> TestContext({
  <span class="hljs-comment">// reporter: new EmptyReporter(), // Use this to override default test reporting</span>
  performanceConfiguration,
  <span class="hljs-comment">// testRegex: /.*/, // Use this to run only tests that match this regex</span>
  <span class="hljs-comment">// groupRegex: /.*/, // Use this to run only groups that match this regex</span>
  fileName: <span class="hljs-string">"./test.spec.ts"</span>, <span class="hljs-comment">// Always set the filename</span>
});

<span class="hljs-comment">// put your assemblyscript imports here</span>
<span class="hljs-keyword">const</span> imports = runner.createImports({});

<span class="hljs-comment">// instantiate your test module here via the "assemblyscript/lib/loader" module</span>
<span class="hljs-keyword">const</span> wasm = instantiateStreaming&lt;IAspectExports&gt;(
  fetch(<span class="hljs-string">"./test.spec.wasm"</span>),
  imports,
);

runner.run(wasm); <span class="hljs-comment">// run the tests synchronously</span>

<span class="hljs-comment">// loop over each group and test in that group</span>
<span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> group of runner.testGroups) {
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> test of group.tests) {
    <span class="hljs-built_in">console</span>.log(test.name, test.pass ? <span class="hljs-string">"pass"</span> : <span class="hljs-string">"fail"</span>);
  }
}</code></pre>
					<p>If you want to compile each test suite manually, it&#39;s possible to use the <code>asc</code>
					compiler yourself by including the following file in your compilation.</p>
					<pre><code>.<span class="hljs-regexp">/node_modules/</span><span class="hljs-keyword">as</span>-pect<span class="hljs-regexp">/assembly/</span>index.ts</code></pre><p>By default, <code>as-pect</code> always shows the generated compiler flags.</p>
				</div>
			</section>
			<section class="tsd-panel-group tsd-index-group">
				<h2>Index</h2>
				<section class="tsd-panel tsd-index-panel">
					<div class="tsd-index-content">
						<section class="tsd-index-section ">
							<h3>Classes</h3>
							<ul class="tsd-index-list">
								<li class="tsd-kind-class tsd-parent-kind-module"><a href="../classes/_as_pect_core.actualvalue.html" class="tsd-kind-icon">Actual<wbr>Value</a></li>
								<li class="tsd-kind-class tsd-parent-kind-module"><a href="../classes/_as_pect_core.csvreporter.html" class="tsd-kind-icon">CSVReporter</a></li>
								<li class="tsd-kind-class tsd-parent-kind-module"><a href="../classes/_as_pect_core.combinationreporter.html" class="tsd-kind-icon">Combination<wbr>Reporter</a></li>
								<li class="tsd-kind-class tsd-parent-kind-module"><a href="../classes/_as_pect_core.emptyreporter.html" class="tsd-kind-icon">Empty<wbr>Reporter</a></li>
								<li class="tsd-kind-class tsd-parent-kind-module"><a href="../classes/_as_pect_core.jsonreporter.html" class="tsd-kind-icon">JSONReporter</a></li>
								<li class="tsd-kind-class tsd-parent-kind-module"><a href="../classes/_as_pect_core.logvalue.html" class="tsd-kind-icon">Log<wbr>Value</a></li>
								<li class="tsd-kind-class tsd-parent-kind-module"><a href="../classes/_as_pect_core.summaryreporter.html" class="tsd-kind-icon">Summary<wbr>Reporter</a></li>
								<li class="tsd-kind-class tsd-parent-kind-module"><a href="../classes/_as_pect_core.testcontext.html" class="tsd-kind-icon">Test<wbr>Context</a></li>
								<li class="tsd-kind-class tsd-parent-kind-module"><a href="../classes/_as_pect_core.testgroup.html" class="tsd-kind-icon">Test<wbr>Group</a></li>
								<li class="tsd-kind-class tsd-parent-kind-module"><a href="../classes/_as_pect_core.testreporter.html" class="tsd-kind-icon">Test<wbr>Reporter</a></li>
								<li class="tsd-kind-class tsd-parent-kind-module"><a href="../classes/_as_pect_core.testresult.html" class="tsd-kind-icon">Test<wbr>Result</a></li>
								<li class="tsd-kind-class tsd-parent-kind-module"><a href="../classes/_as_pect_core.verbosereporter.html" class="tsd-kind-icon">Verbose<wbr>Reporter</a></li>
							</ul>
						</section>
						<section class="tsd-index-section ">
							<h3>Interfaces</h3>
							<ul class="tsd-index-list">
								<li class="tsd-kind-interface tsd-parent-kind-module"><a href="../interfaces/_as_pect_core.iaspectexports.html" class="tsd-kind-icon">IAspect<wbr>Exports</a></li>
								<li class="tsd-kind-interface tsd-parent-kind-module"><a href="../interfaces/_as_pect_core.ilogtarget.html" class="tsd-kind-icon">ILog<wbr>Target</a></li>
								<li class="tsd-kind-interface tsd-parent-kind-module"><a href="../interfaces/_as_pect_core.iperformanceconfiguration.html" class="tsd-kind-icon">IPerformance<wbr>Configuration</a></li>
								<li class="tsd-kind-interface tsd-parent-kind-module"><a href="../interfaces/_as_pect_core.itestcontextparameters.html" class="tsd-kind-icon">ITest<wbr>Context<wbr>Parameters</a></li>
								<li class="tsd-kind-interface tsd-parent-kind-module"><a href="../interfaces/_as_pect_core.iwarning.html" class="tsd-kind-icon">IWarning</a></li>
								<li class="tsd-kind-interface tsd-parent-kind-module"><a href="../interfaces/_as_pect_core.iwritable.html" class="tsd-kind-icon">IWritable</a></li>
							</ul>
						</section>
						<section class="tsd-index-section tsd-is-not-exported">
							<h3>Variables</h3>
							<ul class="tsd-index-list">
								<li class="tsd-kind-variable tsd-parent-kind-module tsd-is-not-exported"><a href="_as_pect_core.html#util" class="tsd-kind-icon">util</a></li>
							</ul>
						</section>
						<section class="tsd-index-section ">
							<h3>Functions</h3>
							<ul class="tsd-index-list">
								<li class="tsd-kind-function tsd-parent-kind-module"><a href="_as_pect_core.html#createdefaultperformanceconfiguration" class="tsd-kind-icon">create<wbr>Default<wbr>Performance<wbr>Configuration</a></li>
							</ul>
						</section>
					</div>
				</section>
			</section>
			<section class="tsd-panel-group tsd-member-group tsd-is-not-exported">
				<h2>Variables</h2>
				<section class="tsd-panel tsd-member tsd-kind-variable tsd-parent-kind-module tsd-is-not-exported">
					<a name="util" class="tsd-anchor"></a>
					<h3><span class="tsd-flag ts-flagConst">Const</span> util</h3>
					<div class="tsd-signature tsd-kind-icon">util<span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">any</span><span class="tsd-signature-symbol"> =&nbsp;require(&quot;util&quot;)</span></div>
					<aside class="tsd-sources">
						<ul>
							<li>Defined in <a href="https://github.com/jtenner/as-pect/blob/ec5069b/packages/core/src/reporter/util/createReferenceString.ts#L3">core/src/reporter/util/createReferenceString.ts:3</a></li>
						</ul>
					</aside>
				</section>
			</section>
			<section class="tsd-panel-group tsd-member-group ">
				<h2>Functions</h2>
				<section class="tsd-panel tsd-member tsd-kind-function tsd-parent-kind-module">
					<a name="createdefaultperformanceconfiguration" class="tsd-anchor"></a>
					<h3>create<wbr>Default<wbr>Performance<wbr>Configuration</h3>
					<ul class="tsd-signatures tsd-kind-function tsd-parent-kind-module">
						<li class="tsd-signature tsd-kind-icon">create<wbr>Default<wbr>Performance<wbr>Configuration<span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><a href="../interfaces/_as_pect_core.iperformanceconfiguration.html" class="tsd-signature-type">IPerformanceConfiguration</a></li>
					</ul>
					<ul class="tsd-descriptions">
						<li class="tsd-description">
							<aside class="tsd-sources">
								<ul>
									<li>Defined in <a href="https://github.com/jtenner/as-pect/blob/ec5069b/packages/core/src/util/IPerformanceConfiguration.ts#L30">core/src/util/IPerformanceConfiguration.ts:30</a></li>
								</ul>
							</aside>
							<div class="tsd-comment tsd-typography">
								<div class="lead">
									<p>This method creates a default performance configuration.</p>
								</div>
							</div>
							<h4 class="tsd-returns-title">Returns <a href="../interfaces/_as_pect_core.iperformanceconfiguration.html" class="tsd-signature-type">IPerformanceConfiguration</a></h4>
						</li>
					</ul>
				</section>
			</section>
		</div>
		<div class="col-4 col-menu menu-sticky-wrap menu-highlight">
			<nav class="tsd-navigation primary">
				<ul>
					<li class="globals  ">
						<a href="../globals.html"><em>Globals</em></a>
					</li>
					<li class=" tsd-kind-module">
						<a href="_as_pect_assembly.html">@as-<wbr>pect/assembly</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="_as_pect_cli.html">@as-<wbr>pect/cli</a>
					</li>
					<li class="current tsd-kind-module">
						<a href="_as_pect_core.html">@as-<wbr>pect/core</a>
					</li>
				</ul>
			</nav>
			<nav class="tsd-navigation secondary menu-sticky">
				<ul class="before-current">
					<li class=" tsd-kind-class tsd-parent-kind-module">
						<a href="../classes/_as_pect_core.actualvalue.html" class="tsd-kind-icon">Actual<wbr>Value</a>
					</li>
					<li class=" tsd-kind-class tsd-parent-kind-module">
						<a href="../classes/_as_pect_core.csvreporter.html" class="tsd-kind-icon">CSVReporter</a>
					</li>
					<li class=" tsd-kind-class tsd-parent-kind-module">
						<a href="../classes/_as_pect_core.combinationreporter.html" class="tsd-kind-icon">Combination<wbr>Reporter</a>
					</li>
					<li class=" tsd-kind-class tsd-parent-kind-module">
						<a href="../classes/_as_pect_core.emptyreporter.html" class="tsd-kind-icon">Empty<wbr>Reporter</a>
					</li>
					<li class=" tsd-kind-class tsd-parent-kind-module">
						<a href="../classes/_as_pect_core.jsonreporter.html" class="tsd-kind-icon">JSONReporter</a>
					</li>
					<li class=" tsd-kind-class tsd-parent-kind-module">
						<a href="../classes/_as_pect_core.logvalue.html" class="tsd-kind-icon">Log<wbr>Value</a>
					</li>
					<li class=" tsd-kind-class tsd-parent-kind-module">
						<a href="../classes/_as_pect_core.summaryreporter.html" class="tsd-kind-icon">Summary<wbr>Reporter</a>
					</li>
					<li class=" tsd-kind-class tsd-parent-kind-module">
						<a href="../classes/_as_pect_core.testcontext.html" class="tsd-kind-icon">Test<wbr>Context</a>
					</li>
					<li class=" tsd-kind-class tsd-parent-kind-module">
						<a href="../classes/_as_pect_core.testgroup.html" class="tsd-kind-icon">Test<wbr>Group</a>
					</li>
					<li class=" tsd-kind-class tsd-parent-kind-module">
						<a href="../classes/_as_pect_core.testreporter.html" class="tsd-kind-icon">Test<wbr>Reporter</a>
					</li>
					<li class=" tsd-kind-class tsd-parent-kind-module">
						<a href="../classes/_as_pect_core.testresult.html" class="tsd-kind-icon">Test<wbr>Result</a>
					</li>
					<li class=" tsd-kind-class tsd-parent-kind-module">
						<a href="../classes/_as_pect_core.verbosereporter.html" class="tsd-kind-icon">Verbose<wbr>Reporter</a>
					</li>
					<li class=" tsd-kind-interface tsd-parent-kind-module">
						<a href="../interfaces/_as_pect_core.iaspectexports.html" class="tsd-kind-icon">IAspect<wbr>Exports</a>
					</li>
					<li class=" tsd-kind-interface tsd-parent-kind-module">
						<a href="../interfaces/_as_pect_core.ilogtarget.html" class="tsd-kind-icon">ILog<wbr>Target</a>
					</li>
					<li class=" tsd-kind-interface tsd-parent-kind-module">
						<a href="../interfaces/_as_pect_core.iperformanceconfiguration.html" class="tsd-kind-icon">IPerformance<wbr>Configuration</a>
					</li>
					<li class=" tsd-kind-interface tsd-parent-kind-module">
						<a href="../interfaces/_as_pect_core.itestcontextparameters.html" class="tsd-kind-icon">ITest<wbr>Context<wbr>Parameters</a>
					</li>
					<li class=" tsd-kind-interface tsd-parent-kind-module">
						<a href="../interfaces/_as_pect_core.iwarning.html" class="tsd-kind-icon">IWarning</a>
					</li>
					<li class=" tsd-kind-interface tsd-parent-kind-module">
						<a href="../interfaces/_as_pect_core.iwritable.html" class="tsd-kind-icon">IWritable</a>
					</li>
					<li class=" tsd-kind-variable tsd-parent-kind-module tsd-is-not-exported">
						<a href="_as_pect_core.html#util" class="tsd-kind-icon">util</a>
					</li>
					<li class=" tsd-kind-function tsd-parent-kind-module">
						<a href="_as_pect_core.html#createdefaultperformanceconfiguration" class="tsd-kind-icon">create<wbr>Default<wbr>Performance<wbr>Configuration</a>
					</li>
				</ul>
			</nav>
		</div>
	</div>
</div>
<footer class="with-border-bottom">
	<div class="container">
		<h2>Legend</h2>
		<div class="tsd-legend-group">
			<ul class="tsd-legend">
				<li class="tsd-kind-module"><span class="tsd-kind-icon">Module</span></li>
				<li class="tsd-kind-object-literal"><span class="tsd-kind-icon">Object literal</span></li>
				<li class="tsd-kind-variable"><span class="tsd-kind-icon">Variable</span></li>
				<li class="tsd-kind-function"><span class="tsd-kind-icon">Function</span></li>
				<li class="tsd-kind-function tsd-has-type-parameter"><span class="tsd-kind-icon">Function with type parameter</span></li>
				<li class="tsd-kind-index-signature"><span class="tsd-kind-icon">Index signature</span></li>
				<li class="tsd-kind-type-alias"><span class="tsd-kind-icon">Type alias</span></li>
				<li class="tsd-kind-type-alias tsd-has-type-parameter"><span class="tsd-kind-icon">Type alias with type parameter</span></li>
			</ul>
			<ul class="tsd-legend">
				<li class="tsd-kind-enum"><span class="tsd-kind-icon">Enumeration</span></li>
				<li class="tsd-kind-enum-member"><span class="tsd-kind-icon">Enumeration member</span></li>
				<li class="tsd-kind-property tsd-parent-kind-enum"><span class="tsd-kind-icon">Property</span></li>
				<li class="tsd-kind-method tsd-parent-kind-enum"><span class="tsd-kind-icon">Method</span></li>
			</ul>
			<ul class="tsd-legend">
				<li class="tsd-kind-interface"><span class="tsd-kind-icon">Interface</span></li>
				<li class="tsd-kind-interface tsd-has-type-parameter"><span class="tsd-kind-icon">Interface with type parameter</span></li>
				<li class="tsd-kind-constructor tsd-parent-kind-interface"><span class="tsd-kind-icon">Constructor</span></li>
				<li class="tsd-kind-property tsd-parent-kind-interface"><span class="tsd-kind-icon">Property</span></li>
				<li class="tsd-kind-method tsd-parent-kind-interface"><span class="tsd-kind-icon">Method</span></li>
				<li class="tsd-kind-index-signature tsd-parent-kind-interface"><span class="tsd-kind-icon">Index signature</span></li>
			</ul>
			<ul class="tsd-legend">
				<li class="tsd-kind-class"><span class="tsd-kind-icon">Class</span></li>
				<li class="tsd-kind-class tsd-has-type-parameter"><span class="tsd-kind-icon">Class with type parameter</span></li>
				<li class="tsd-kind-constructor tsd-parent-kind-class"><span class="tsd-kind-icon">Constructor</span></li>
				<li class="tsd-kind-property tsd-parent-kind-class"><span class="tsd-kind-icon">Property</span></li>
				<li class="tsd-kind-method tsd-parent-kind-class"><span class="tsd-kind-icon">Method</span></li>
				<li class="tsd-kind-accessor tsd-parent-kind-class"><span class="tsd-kind-icon">Accessor</span></li>
				<li class="tsd-kind-index-signature tsd-parent-kind-class"><span class="tsd-kind-icon">Index signature</span></li>
			</ul>
			<ul class="tsd-legend">
				<li class="tsd-kind-constructor tsd-parent-kind-class tsd-is-inherited"><span class="tsd-kind-icon">Inherited constructor</span></li>
				<li class="tsd-kind-property tsd-parent-kind-class tsd-is-inherited"><span class="tsd-kind-icon">Inherited property</span></li>
				<li class="tsd-kind-method tsd-parent-kind-class tsd-is-inherited"><span class="tsd-kind-icon">Inherited method</span></li>
				<li class="tsd-kind-accessor tsd-parent-kind-class tsd-is-inherited"><span class="tsd-kind-icon">Inherited accessor</span></li>
			</ul>
			<ul class="tsd-legend">
				<li class="tsd-kind-property tsd-parent-kind-class tsd-is-protected"><span class="tsd-kind-icon">Protected property</span></li>
				<li class="tsd-kind-method tsd-parent-kind-class tsd-is-protected"><span class="tsd-kind-icon">Protected method</span></li>
				<li class="tsd-kind-accessor tsd-parent-kind-class tsd-is-protected"><span class="tsd-kind-icon">Protected accessor</span></li>
			</ul>
			<ul class="tsd-legend">
				<li class="tsd-kind-property tsd-parent-kind-class tsd-is-private"><span class="tsd-kind-icon">Private property</span></li>
				<li class="tsd-kind-method tsd-parent-kind-class tsd-is-private"><span class="tsd-kind-icon">Private method</span></li>
				<li class="tsd-kind-accessor tsd-parent-kind-class tsd-is-private"><span class="tsd-kind-icon">Private accessor</span></li>
			</ul>
			<ul class="tsd-legend">
				<li class="tsd-kind-property tsd-parent-kind-class tsd-is-static"><span class="tsd-kind-icon">Static property</span></li>
				<li class="tsd-kind-call-signature tsd-parent-kind-class tsd-is-static"><span class="tsd-kind-icon">Static method</span></li>
			</ul>
		</div>
	</div>
</footer>
<div class="container tsd-generator">
	<p>Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p>
</div>
<div class="overlay"></div>
<script src="../assets/js/main.js"></script>
<script>if (location.protocol == 'file:') document.write('<script src="../assets/js/search.js"><' + '/script>');</script>
</body>
</html>